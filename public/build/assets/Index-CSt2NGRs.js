import{r as i,j as e,L as re}from"./app-JcAsAuql.js";import{A as ae,U as le,b as L,C as ne}from"./app-layout-E1jTg9LY.js";import{a as p}from"./ApiAdmin-CigcBv4Z.js";import{U as k}from"./user-check-DK4LStuz.js";import{U as D}from"./user-x-CXcl48Sg.js";import{D as oe}from"./download-BeDJjoQd.js";import{R as P}from"./refresh-cw-BJG4YFjv.js";import{P as ie,S as de}from"./search-DCW9xceT.js";import{U as S}from"./user-Clo-9yXY.js";import{c as M}from"./button-f96-MP48.js";import{C as ce}from"./circle-x-CZFefVG-.js";import{M as xe}from"./mail-BvpHgBqQ.js";import{P as me}from"./phone-BvaIeQQR.js";import{S as pe}from"./square-pen-DJd9gEqa.js";import{K as he}from"./key-DMBWQOo5.js";import{T as ue}from"./trash-2-yi-JkhIH.js";import"./index-CfwClSTy.js";import"./index-jL6B-qfF.js";import"./index-BwiEApH7.js";import"./index-Bm2cAylQ.js";import"./app-logo-icon-DBA5PkxD.js";import"./sweetalert2.esm.all-acGi8jXx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$=M("CircleAlert",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R=M("CircleCheck",be),N={name:"",email:"",phone:"",address:"",role:"patient",status:"active",password:"",password_confirmation:"",employee_id:"",position:""},w=[{value:"admin",label:"Administrator",icon:L},{value:"staff",label:"Staff Member",icon:k},{value:"patient",label:"Patient",icon:S}],I=[{value:"dentist",label:"Dentist"},{value:"hygienist",label:"Dental Hygienist"},{value:"assistant",label:"Dental Assistant"},{value:"receptionist",label:"Receptionist"}],fe=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Users",href:"/admin/users"}];function ze(){const[h,F]=i.useState([]),[B,_]=i.useState(!0),[O,j]=i.useState(!1),[d,y]=i.useState(!1),[A,v]=i.useState(null),[c,g]=i.useState([]),[a,n]=i.useState(N),[r,b]=i.useState({}),[f,E]=i.useState({search:"",role:"",status:""}),[u,T]=i.useState({total_users:0,total_patients:0,total_staff:0,total_admins:0,active_users:0,inactive_users:0}),[je,ye]=i.useState(!1),m=async()=>{try{_(!0);const s=await p.getUsers(f);F(s.data||s.users||[]),T(s.stats||u)}catch(s){console.error("Error fetching users:",s)}finally{_(!1)}};i.useEffect(()=>{m()},[f]);const q=async s=>{var t,o;s.preventDefault(),b({});try{const l={...a};d&&!l.password&&(delete l.password,delete l.password_confirmation),d&&A?await p.updateUser(A.id,l):await p.createUser(l),j(!1),n(N),v(null),y(!1),m()}catch(l){(o=(t=l.response)==null?void 0:t.data)!=null&&o.errors&&b(l.response.data.errors)}},z=async s=>{if(window.confirm(`Are you sure you want to delete ${s.name}?`))try{await p.deleteUser(s.id),m()}catch(t){console.error("Error deleting user:",t)}},K=s=>{v(s),n({name:s.name,email:s.email,phone:s.phone||"",address:s.address||"",role:s.role,status:s.status,employee_id:s.employee_id||"",position:s.position||"",password:"",password_confirmation:""}),y(!0),j(!0),b({})},X=()=>{v(null),n(N),y(!1),j(!0),b({})},H=async s=>{try{const t=s.status==="active"?"inactive":"active";await p.updateUser(s.id,{status:t}),m()}catch(t){console.error("Error toggling user status:",t)}},V=async s=>{if(window.confirm(`Reset password for ${s.name}? A new temporary password will be generated.`))try{const t=Math.random().toString(36).slice(-8)+Math.random().toString(36).slice(-8);await p.updateUser(s.id,{password:t,password_confirmation:t}),alert(`Password reset successfully. New temporary password: ${t}
Please share this securely with the user.`),m()}catch(t){console.error("Error resetting password:",t),alert("Error resetting password. Please try again.")}},C=(s,t)=>{E(o=>({...o,[s]:t}))},G=()=>{E({search:"",role:"",status:""})},J=s=>{g(t=>t.includes(s)?t.filter(o=>o!==s):[...t,s])},Q=()=>{c.length===h.length?g([]):g(h.map(s=>s.id))},W=async()=>{if(window.confirm(`Activate ${c.length} selected users?`))try{const s=c.map(t=>p.updateUser(t,{status:"active"}));await Promise.all(s),g([]),m()}catch(s){console.error("Error bulk activating users:",s)}},Y=async()=>{if(window.confirm(`Deactivate ${c.length} selected users?`))try{const s=c.map(t=>p.updateUser(t,{status:"inactive"}));await Promise.all(s),g([]),m()}catch(s){console.error("Error bulk deactivating users:",s)}},Z=async()=>{try{const t=[["ID","Name","Email","Role","Status","Phone","Employee ID","Position","Created At"].join(","),...h.map(x=>[x.id,`"${x.name}"`,x.email,x.role,x.status,x.phone||"",x.employee_id||"",x.position||"",x.created_at].join(","))].join(`
`),o=new Blob([t],{type:"text/csv"}),l=window.URL.createObjectURL(o),U=document.createElement("a");U.href=l,U.download=`users_${new Date().toISOString().split("T")[0]}.csv`,U.click(),window.URL.revokeObjectURL(l)}catch(s){console.error("Error exporting users:",s)}},ee=s=>({admin:"bg-red-100 text-red-800",staff:"bg-blue-100 text-blue-800",patient:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800",se=s=>{const t=w.find(l=>l.value===s),o=(t==null?void 0:t.icon)||S;return e.jsx(o,{className:"w-4 h-4"})},te=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(ae,{breadcrumbs:fe,children:[e.jsx(re,{title:"Users Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage system users, roles, and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[c.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[c.length," selected"]}),e.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-3 py-2 text-green-700 border border-green-300 rounded-lg hover:bg-green-50",children:[e.jsx(k,{className:"w-4 h-4"}),"Activate"]}),e.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-2 text-red-700 border border-red-300 rounded-lg hover:bg-red-50",children:[e.jsx(D,{className:"w-4 h-4"}),"Deactivate"]})]}),e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(oe,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(P,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[e.jsx(ie,{className:"w-4 h-4"}),"Add User"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:u.total_users})]}),e.jsx(le,{className:"w-6 h-6 text-blue-600"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Patients"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:u.total_patients})]}),e.jsx(S,{className:"w-6 h-6 text-green-600"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Staff"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:u.total_staff})]}),e.jsx(k,{className:"w-6 h-6 text-blue-600"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Admins"}),e.jsx("p",{className:"text-xl font-bold text-red-900",children:u.total_admins})]}),e.jsx(L,{className:"w-6 h-6 text-red-600"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:u.active_users})]}),e.jsx(R,{className:"w-6 h-6 text-green-600"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Inactive"}),e.jsx("p",{className:"text-xl font-bold text-red-900",children:u.inactive_users})]}),e.jsx(ce,{className:"w-6 h-6 text-red-600"})]})})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search users by name, email, or employee ID...",value:f.search,onChange:s=>C("search",s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{value:f.role,onChange:s=>C("role",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Roles"}),w.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),e.jsxs("select",{value:f.status,onChange:s=>C("status",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsx("button",{onClick:G,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Clear"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:c.length===h.length&&h.length>0,onChange:Q,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(P,{className:"w-6 h-6 animate-spin"})})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No users found"})}):h.map(s=>{var t,o;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:c.includes(s.id),onChange:()=>J(s.id),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),s.employee_id&&e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",s.employee_id]})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${ee(s.role)}`,children:[se(s.role),((t=w.find(l=>l.value===s.role))==null?void 0:t.label)||s.role]})}),s.position&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((o=I.find(l=>l.value===s.position))==null?void 0:o.label)||s.position})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[150px]",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(me,{className:"w-3 h-3"}),e.jsx("span",{children:s.phone})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status==="active"?"Active":"Inactive"})}),s.email_verified_at?e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(R,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Verified"})]}):e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx($,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Unverified"})]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),te(s.created_at)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>K(s),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit User",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>H(s),className:`p-1 rounded ${s.status==="active"?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:s.status==="active"?"Deactivate":"Activate",children:s.status==="active"?e.jsx(D,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(s),className:"p-1 text-orange-600 hover:bg-orange-50 rounded",title:"Reset Password",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(s),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete User",children:e.jsx(ue,{className:"w-4 h-4"})})]})})]},s.id)})})]})})})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:d?"Edit User":"Add New User"}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[r.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx($,{className:"w-4 h-4 text-red-400 mr-2 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:r.general[0]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>n({...a,name:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>n({...a,email:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>n({...a,phone:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsx("select",{value:a.role,onChange:s=>n({...a,role:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.role?"border-red-500":"border-gray-300"}`,children:w.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),r.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.role[0]})]}),a.role==="staff"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),e.jsx("input",{type:"text",value:a.employee_id||"",onChange:s=>n({...a,employee_id:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.employee_id?"border-red-500":"border-gray-300"}`,placeholder:"Enter employee ID"}),r.employee_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.employee_id[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),e.jsxs("select",{value:a.position||"",onChange:s=>n({...a,position:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.position?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select Position"}),I.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),r.position&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.position[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{value:a.status,onChange:s=>n({...a,status:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.status?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),r.status&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.status[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("textarea",{value:a.address,onChange:s=>n({...a,address:s.target.value}),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter address"}),r.address&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.address[0]})]}),(!d||d&&a.password)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!d&&"*"]}),e.jsx("input",{type:"password",value:a.password||"",onChange:s=>n({...a,password:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.password?"border-red-500":"border-gray-300"}`,placeholder:d?"Leave blank to keep current password":"Enter password"}),r.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.password[0]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",!d&&"*"]}),e.jsx("input",{type:"password",value:a.password_confirmation||"",onChange:s=>n({...a,password_confirmation:s.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.password_confirmation?"border-red-500":"border-gray-300"}`,placeholder:d?"Leave blank to keep current password":"Confirm password"}),r.password_confirmation&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.password_confirmation[0]})]})]}),d&&!a.password&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"Leave password fields empty to keep the current password unchanged."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{j(!1),n(N),b({}),v(null),y(!1)},className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[d?"Update":"Create"," User"]})]})]})]})})})]})}export{ze as default};
